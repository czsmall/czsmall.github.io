<!DOCTYPE html>
<html lang='zh-CN'>

<head>
  <meta name="generator" content="Hexo 6.3.0">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.19.0">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://gcore.jsdelivr.net'>
  <link rel="preconnect" href="https://gcore.jsdelivr.net" crossorigin>
  <link rel='dns-prefetch' href='//unpkg.com'>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  
  <title>linux：基础 - 小白记</title>

  
    <meta name="description" content="nginx 版本区别   Nginx开源版 Nginx plus 商业版 openresty Tengine   开源版本编译安装 Centos7 nginx-1.21.6 注意access.log文件的大小  上传tar包解压：tar zxvf nginx-1.21.6.tar.gz 安装依赖12345yum install -y gcc &#x2F;               gcc-c++">
<meta property="og:type" content="website">
<meta property="og:title" content="基础">
<meta property="og:url" content="http://oshcz.cn/wiki/linux/index%20-%20%E5%89%AF%E6%9C%AC.html">
<meta property="og:site_name" content="小白记">
<meta property="og:description" content="nginx 版本区别   Nginx开源版 Nginx plus 商业版 openresty Tengine   开源版本编译安装 Centos7 nginx-1.21.6 注意access.log文件的大小  上传tar包解压：tar zxvf nginx-1.21.6.tar.gz 安装依赖12345yum install -y gcc &#x2F;               gcc-c++">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://oshcz.cn/wiki/linux/p/yuanli.png">
<meta property="og:image" content="http://oshcz.cn/wiki/linux/p/wei.png">
<meta property="og:image" content="http://oshcz.cn/wiki/linux/p/kai.png">
<meta property="og:image" content="http://oshcz.cn/wiki/linux/p/server.png">
<meta property="article:published_time" content="2023-11-10T10:46:10.149Z">
<meta property="article:modified_time" content="2023-11-10T10:46:10.149Z">
<meta property="article:author" content="czsmall">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://oshcz.cn/wiki/linux/p/yuanli.png">
  
  
  
  

  <!-- feed -->
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  
    <link rel="shortcut icon" href="https://bu.dusays.com/2023/10/20/6531dc7a57b4f.png">
  

  

  


  
</head>

<body>
  

<div class="l_cover wiki"><article class="cover-wrap md-text"><div class="preview"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/assets/wiki/linux/linux.svg" height="240px"></div><div class="cover-title"><span>Linux</span></div><div class="description">Stellar 是一个内置 wiki 系统的 hexo 主题，适合综合型站点使用。同时也拥有简约而精美的视觉设计和丰富的标签插件，帮助您简单从容地应对各种场合。</div><div class="start-wrap"><a class="button start gradient" href="#start">开始使用</a></div></article></div><hr>


  <div class='l_body' id='start'>
    <aside class='l_left' layout='wiki'>
    

  




<div class="widgets"><widget class="widget-wrapper logo-wrap wiki"><div class="widget-body"><a style="filter: grayscale(100%)" class="wiki-home cap" href="/wiki"><svg aria-hidden="true" viewBox="0 0 16 16" width="1rem" height="1rem" fill="currentColor"><path fill-rule="evenodd" d="M7.78 12.53a.75.75 0 01-1.06 0L2.47 8.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 1.06L4.81 7h7.44a.75.75 0 010 1.5H4.81l2.97 2.97a.75.75 0 010 1.06z"></path></svg>所有专栏</a><a class="title" href="/wiki/linux/index%20-%20%E5%89%AF%E6%9C%AC.html"><div class="main" ff="title">linux</div><div class="sub normal cap">每个人的独立博客</div><div class="sub hover cap" style="opacity:0"> Designed by xaoxuu</div></a></div></widget>
<widget class="widget-wrapper search"><div class="widget-body"><div class="search-wrapper" id="search"><form class="search-form"><input type="text" class="search-input" id="search-input" data-filter="/wiki/linux/" placeholder="在 /wiki/linux/ 中搜索"><svg t="1670596976048" class="icon search-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2676" width="200" height="200"><path d="M938.2 832.6L723.8 618.1c-2.5-2.5-5.3-4.4-7.9-6.4 36.2-55.6 57.3-121.8 57.3-193.1C773.3 222.8 614.6 64 418.7 64S64 222.8 64 418.6c0 195.9 158.8 354.6 354.6 354.6 71.3 0 137.5-21.2 193.2-57.4 2 2.7 3.9 5.4 6.3 7.8L832.5 938c14.6 14.6 33.7 21.9 52.8 21.9 19.1 0 38.2-7.3 52.8-21.8 29.2-29.1 29.2-76.4 0.1-105.5M418.7 661.3C284.9 661.3 176 552.4 176 418.6 176 284.9 284.9 176 418.7 176c133.8 0 242.6 108.9 242.6 242.7 0 133.7-108.9 242.6-242.6 242.6" p-id="2677"></path></svg></form><div id="search-result"></div><div class="search-no-result">没有找到内容！</div></div></div></widget>


<widget class="widget-wrapper toc multi" id="data-toc"><div class="widget-header cap dis-select"><span class="name">基础</span></div><div class="widget-body fs14"><div class="doc-tree active"><a class="doc-tree-link active" href="/wiki/linux/index%20-%20%E5%89%AF%E6%9C%AC.html#start"><span class="toc-text">基础</span></a><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#nginx"><span class="toc-text">nginx</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E6%BA%90%E7%89%88%E6%9C%AC%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85"><span class="toc-text">开源版本编译安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96"><span class="toc-text">安装依赖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%AE%89%E8%A3%85"><span class="toc-text">基本安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E7%A4%BA%E4%BE%8B"><span class="toc-text">安装示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3"><span class="toc-text">参数讲解</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8nginx"><span class="toc-text">启动nginx</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E5%86%8Cservice%E6%96%87%E4%BB%B6"><span class="toc-text">注册service文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E5%B9%B6%E8%AE%BE%E7%BD%AE%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF%E5%8A%A8"><span class="toc-text">启动并设置开机自启动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Bnginx%E8%BF%9B%E7%A8%8B"><span class="toc-text">查看nginx进程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#docker%E5%AE%89%E8%A3%85"><span class="toc-text">docker安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%8E%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">配置文件与应用场景</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86"><span class="toc-text">运行原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E5%B0%8F%E9%85%8D%E7%BD%AE"><span class="toc-text">最小配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE"><span class="toc-text">虚拟主机配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA"><span class="toc-text">虚拟主机</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%9B%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90-com"><span class="toc-text">泛域名解析*.com</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%97%B6%E8%A7%A3%E6%9E%90%E5%88%B0%E7%BB%9F%E4%B8%80%E4%B8%AAip"><span class="toc-text">同时解析到统一个ip</span></a></li></ol></li></ol></li></ol></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/linux/index.html"><span class="toc-text">基础</span></a></div></div></widget>

<widget class="widget-wrapper markdown"><div class="widget-header cap theme dis-select"><span class="name">空闲位</span></div><div class="widget-body fs14"><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="/assets/1.jpg"></p>
</div></widget>
</div>


    </aside>
    <div class='l_main'>
      

      

  
  
  
<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" id="home" href="/">主页</a><span class="sep"></span><a class="cap breadcrumb" id="menu" href="/wiki/">专栏</a><span class="sep"></span><a class="cap breadcrumb" id="proj" href="/wiki/linux/index%20-%20%E5%89%AF%E6%9C%AC.html">linux</a></div><div id="post-meta">更新于&nbsp;<time datetime="2023-11-10T10:46:10.149Z">2023-11-10</time></div></div>

  <article class='md-text content wiki'>
  <h1 class="article-title"><span>基础</span></h1>
  <h1 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h1><blockquote>
<p><strong>版本区别</strong></p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="http://nginx.org/">Nginx开源版</a></li>
<li><a href="%5Bhttps://www.nginx.com%5D(https://www.nginx.com/)">Nginx plus 商业版</a></li>
<li><a target="_blank" rel="noopener" href="http://openresty.org/cn/">openresty</a></li>
<li><a target="_blank" rel="noopener" href="http://tengine.taobao.org/">Tengine </a></li>
</ul>
<h2 id="开源版本编译安装"><a href="#开源版本编译安装" class="headerlink" title="开源版本编译安装"></a>开源版本编译安装</h2><blockquote>
<p>Centos7</p>
<p>nginx-1.21.6</p>
<p>注意access.log文件的大小</p>
</blockquote>
<p>上传tar包解压：tar zxvf nginx-1.21.6.tar.gz</p>
<h3 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum install -y gcc /</span><br><span class="line">               gcc-c++ </span><br><span class="line">               pcre pcre-devel /</span><br><span class="line">               zlib zlib-devel /</span><br><span class="line">               gcc-c++ </span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果提示：.&#x2F;configure: error: the HTTP rewrite module requires the PCRE library.:<a target="_blank" rel="noopener" href="https://www.huaweicloud.com/zhishi/pcre.html">参考</a></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">wget https://sourceforge.net/projects/pcre/files/pcre/8.43/pcre-8.43.tar.gz</span><br><span class="line"></span><br><span class="line">tar -zxvf pcre-8.43.tar.gz</span><br><span class="line"></span><br><span class="line">cd pcre-8.43</span><br><span class="line"></span><br><span class="line">./configure --enable-utf8</span><br><span class="line"></span><br><span class="line">make -j4 &amp;&amp; make install</span><br></pre></td></tr></table></figure>

<h3 id="基本安装"><a href="#基本安装" class="headerlink" title="基本安装"></a>基本安装</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mdir -p  /apps/local/nginx/</span><br><span class="line"></span><br><span class="line">./configure --prefix=/apps/local/nginx/</span><br><span class="line"></span><br><span class="line">make -j4 &amp;&amp; make install</span><br></pre></td></tr></table></figure>



<h3 id="安装示例"><a href="#安装示例" class="headerlink" title="安装示例"></a>安装示例</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">./configure --prefix=/usr/local/nginx \</span><br><span class="line">--sbin-path=/usr/local/nginx/sbin/nginx \</span><br><span class="line">--conf-path=/usr/local/nginx/conf/nginx.conf \</span><br><span class="line">--error-log-path=/var/log/nginx/error.log \</span><br><span class="line">--http-log-path=/var/log/nginx/access.log \</span><br><span class="line">--pid-path=/var/run/nginx/nginx.pid \</span><br><span class="line">--lock-path=/var/lock/nginx.lock \</span><br><span class="line">--user=nginx \</span><br><span class="line">--group=nginx \</span><br><span class="line">--with-http_ssl_module \</span><br><span class="line">--with-http_gzip_static_module \</span><br><span class="line">--http-proxy-temp-path=/var/tmp/nginx/proxy/ \</span><br><span class="line">--http-fastcgi-temp-path=/var/tmp/nginx/fcgi/ \</span><br><span class="line">--http-uwsgi-temp-path=/var/tmp/nginx/uwsgi \</span><br><span class="line">--http-scgi-temp-path=/var/tmp/nginx/scgi \</span><br><span class="line">--with-pcre</span><br></pre></td></tr></table></figure>

<h3 id="参数讲解"><a href="#参数讲解" class="headerlink" title="参数讲解"></a>参数讲解</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line">--prefix=  指向安装目录。</span><br><span class="line"> </span><br><span class="line">--sbin-path=  指定执行程序文件存放位置。</span><br><span class="line"> </span><br><span class="line">--modules-path=  指定第三方模块的存放路径。</span><br><span class="line"> </span><br><span class="line">--conf-path= 指定配置文件存放位置。</span><br><span class="line"> </span><br><span class="line">--error-log-path=  指定错误日志存放位置。</span><br><span class="line"> </span><br><span class="line">--pid-path=  指定pid文件存放位置。</span><br><span class="line"> </span><br><span class="line">--lock-path=  指定lock文件存放位置。</span><br><span class="line"> </span><br><span class="line">--user=  指定程序运行时的非特权用户。</span><br><span class="line"> </span><br><span class="line">--group=  指定程序运行时的非特权用户组。</span><br><span class="line"> </span><br><span class="line">--builddir=  指向编译目录。</span><br><span class="line"> </span><br><span class="line">--with-rtsig_module  启用rtsig模块支持。</span><br><span class="line"> </span><br><span class="line">--with-select_module  启用select模块支持，一种轮询处理方式，不推荐在高并发环境中使用，禁用：--without-select_module。</span><br><span class="line"> </span><br><span class="line">--with-poll_module  启用poll模块支持,功能与select相同，不推荐在高并发环境中使用。</span><br><span class="line"> </span><br><span class="line">--with-threads 启用thread pool支持。</span><br><span class="line"> </span><br><span class="line">--with-file-aio  启用file aio支持。</span><br><span class="line"> </span><br><span class="line">--with-http_ssl_module 启用https支持。</span><br><span class="line"> </span><br><span class="line">--with-http_v2_module    启用ngx_http_v2_module支持。</span><br><span class="line"> </span><br><span class="line">--with-ipv6    启用ipv6支持。</span><br><span class="line"> </span><br><span class="line">--with-http_realip_module    允许从请求报文头中更改客户端的ip地址，默认为关。</span><br><span class="line"> </span><br><span class="line">--with-http_addition_module    启用ngix_http_additon_mdoule支持（作为一个输出过滤器，分部分响应请求)。</span><br><span class="line"> </span><br><span class="line">--with -http_xslt_module    启用ngx_http_xslt_module支持，过滤转换XML请求 。</span><br><span class="line"> </span><br><span class="line">--with-http_image_filter_mdoule  启用ngx_http_image_filter_module支持，传输JPEG\GIF\PNG图片的一个过滤器，默认不启用，需要安装gd库。</span><br><span class="line"> </span><br><span class="line">--with-http_geoip_module  启用ngx_http_geoip_module支持，用于创建基于MaxMind GeoIP二进制文件相配的客户端IP地址的ngx_http_geoip_module变量。</span><br><span class="line"> </span><br><span class="line">--with-http_sub_module  启用ngx_http_sub_module支持，允许用一些其他文本替换nginx响应中的一些文本。</span><br><span class="line"> </span><br><span class="line">--with-http_dav_module  启用ngx_http_dav_module支持，增加PUT、DELETE、MKCOL创建集合，COPY和MOVE方法，默认为关闭，需要编译开启。</span><br><span class="line"> </span><br><span class="line">--with-http_flv_module  启用ngx_http_flv_module支持，提供寻求内存使用基于时间的偏移量文件。</span><br><span class="line"> </span><br><span class="line">--with-http_mp4_module  启用ngx_http_mp4_module支持，启用对mp4类视频文件的支持。</span><br><span class="line"> </span><br><span class="line">--with-http_gzip_static_module  启用ngx_http_gzip_static_module支持，支持在线实时压缩输出数据流。</span><br><span class="line"> </span><br><span class="line">--with-http_random_index_module  启用ngx_http_random_index_module支持，从目录中随机挑选一个目录索引。</span><br><span class="line"> </span><br><span class="line">--with-http_secure_link_module  启用ngx_http_secure_link_module支持，计算和检查要求所需的安全链接网址。</span><br><span class="line"> </span><br><span class="line">--with-http_degradation_module  启用ngx_http_degradation_module 支持允许在内存不足的情况下返回204或444代码。</span><br><span class="line"> </span><br><span class="line">--with-http_stub_status_module  启用ngx_http_stub_status_module 支持查看nginx的状态页。</span><br><span class="line"> </span><br><span class="line">--without-http_charset_module  禁用ngx_http_charset_module这一模块，可以进行字符集间的转换，从其它字符转换成UTF-8或者从UTF8转换成其它字符。它只能从服务器到客户端方向，只有一个字节的字符可以转换。</span><br><span class="line"> </span><br><span class="line">--without-http_gzip_module  禁用ngx_http_gzip_module支持，同--with-http_gzip_static_module功能一样。</span><br><span class="line"> </span><br><span class="line">--without-http_ssi_module  禁用ngx_http_ssi_module支持，提供了一个在输入端处理服务器包含文件（SSI）的过滤器。</span><br><span class="line"> </span><br><span class="line">--without-http_userid_module  禁用ngx_http_userid_module支持，该模块用来确定客户端后续请求的cookies。</span><br><span class="line"> </span><br><span class="line">--without-http_access_module  禁用ngx_http_access_module支持，提供了基于主机ip地址的访问控制功能。</span><br><span class="line"> </span><br><span class="line">--without-http_auth_basic_module  禁用ngx_http_auth_basic_module支持，可以使用用户名和密码认证的方式来对站点或部分内容进行认证。</span><br><span class="line"> </span><br><span class="line">--without-http_autoindex_module  禁用ngx_http_authindex_module，该模块用于在ngx_http_index_module模块没有找到索引文件时发出请求，用于自动生成目录列表。</span><br><span class="line"> </span><br><span class="line">--without-http_geo_module  禁用ngx_http_geo_module支持，这个模块用于创建依赖于客户端ip的变量。</span><br><span class="line"> </span><br><span class="line">--without-http_map_module  禁用ngx_http_map_module支持，使用任意的键、值 对设置配置变量。</span><br><span class="line">--without-http_split_clients_module 禁用ngx_http_split_clients_module支持，该模块用于基于用户ip地址、报头、cookies划分用户。</span><br><span class="line">--without-http_referer_module  禁用ngx_http_referer_modlue支持，该模块用来过滤请求，报头中Referer值不正确的请求。</span><br><span class="line">--without-http_rewrite_module  禁用ngx_http_rewrite_module支持。该模块允许使用正则表达式改变URI，并且根据变量来转向以及选择配置。如果在server级别设置该选项，那么将在location之前生效，但如果location中还有更进一步的重写规则，location部分的规则依然会被执行。如果这个URI重写是因为location部分的规则造成的，那么location部分会再次被执行作为新的URI，这个循环会被执行10次，最后返回一个500错误。</span><br><span class="line">--without-http_proxy_module  禁用ngx_http_proxy_module支持，http代理功能。</span><br><span class="line">--without-http_fastcgi_module  禁用ngx_http_fastcgi_module支持，该模块允许nginx与fastcgi进程交互，并通过传递参数来控制fastcgi进程工作。</span><br><span class="line">--without-http_uwsgi_module  禁用ngx_http_uwsgi_module支持，该模块用来使用uwsgi协议，uwsgi服务器相关 </span><br><span class="line">--without-http_scgi_module  禁用ngx_http_scgi_module支持，类似于fastcgi，也是应用程序与http服务的接口标准。</span><br><span class="line">--without-http_memcached_module  禁用ngx_http_memcached支持，用来提供简单的缓存，提高系统效率。</span><br><span class="line">--without-http_limit_conn_module  禁用ngx_http_limit_conn_module支持，该模块可以根据条件进行会话的并发连接数进行限制。</span><br><span class="line">--without-http_limit_req_module  禁用ngx_limit_req_module支持，该模块可以实现对于一个地址进行请求数量的限制 </span><br><span class="line">--without-http_empty_gif_module  禁用ngx_http_empty_gif_module支持，该模块在内存中常驻了一个1*1的透明gif图像，可以被非常快速的调用。</span><br><span class="line">--without-http_browser_module  禁用ngx_http_browser_mdoule支持，创建依赖于请求报头的值 。如果浏览器为modern，则$modern_browser等于modern_browser_value的值；如果浏览器为old，则$ancient_browser等于$ancient_browser_value指令分配的值；如果浏览器为MSIE，则$msie等于1。</span><br><span class="line">--without-http_upstream_ip_hash_module 禁用ngx_http_upstream_ip_hash_module支持，该模块用于简单的负载均衡。</span><br><span class="line">--with-http_perl_module  启用ngx_http_perl_module支持，它使nginx可以直接使用perl或通过ssi调用perl。</span><br><span class="line">--with-perl_modules_path=  设定perl模块路径</span><br><span class="line">--with-perl=  设定perl库文件路径</span><br><span class="line">--http-log-path=  设定access log路径</span><br><span class="line">--http-client-body-temp-path=  设定http客户端请求临时文件路径</span><br><span class="line">--http-proxy-temp-path=  设定http代理临时文件路径</span><br><span class="line">--http-fastcgi-temp-path=  设定http fastcgi临时文件路径</span><br><span class="line">--http-uwsgi-temp-path=  设定http scgi临时文件路径</span><br><span class="line">--http-scgi-temp-path=  设定http scgi临时文件路径</span><br><span class="line">--without-http  禁用http server功能</span><br><span class="line">--without-http-cache  禁用http cache功能</span><br><span class="line">--with-mail  启用POP3、IMAP4、SMTP代理模块</span><br><span class="line">--with-mail_ssl_module  启用ngx_mail_ssl_module支持</span><br><span class="line">--without-mail_pop3_module  禁用pop3协议。</span><br><span class="line">--without-mail_iamp_module  禁用iamp协议。</span><br><span class="line">--without-mail_smtp_module  禁用smtp协议。</span><br><span class="line">--with-google_perftools_module  启用ngx_google_perftools_mdoule支持，调试用，可以用来分析程序性能瓶颈。</span><br><span class="line">--with-cpp_test_module 启用ngx_cpp_test_module支持。</span><br><span class="line">--add-module=  指定外部模块路径，启用对外部模块的支持。</span><br><span class="line">--with-cc=  指向C编译器路径。</span><br><span class="line">--with-cpp=  指向C预处理路径。</span><br><span class="line">--with-cc-opt=  设置C编译器参数，指定--with-cc-opt=&quot;-I /usr/lcal/include&quot;,如果使用select()函数，还需要同时指定文件描述符数量--with-cc-opt=&quot;-D FD_SETSIZE=2048&quot;。 (PCRE库）</span><br><span class="line">--with-ld-opt=  设置连接文件参数，需要指定--with-ld-opt=&quot;-L /usr/local/lib&quot;。（PCRE库）</span><br><span class="line">--with-cpu-opt=  指定编译的CPU类型，如pentium,pentiumpro,...amd64,ppc64...</span><br><span class="line">--without-pcre  禁用pcre库。</span><br><span class="line">--with-pcre  启用pcre库。</span><br><span class="line">--with-pcre=  指向pcre库文件目录。</span><br><span class="line">--with-pcre-opt=  在编译时为pcre库设置附加参数 。</span><br><span class="line">--with-md5=  指向md5库文件目录。</span><br><span class="line">--with-md5-opt=  编译时为md5库设置附加参数。</span><br><span class="line">--with-md5-asm  使用md5汇编源。</span><br><span class="line">--with-sha1=  指向sha1库文件目录。</span><br><span class="line">--with-sha1-opt=  编译时为sha1库设置附加参数。</span><br><span class="line">--with-sha1-asm  使用sha1汇编源。</span><br><span class="line">--with-zlib=  指向zlib库文件目录。</span><br><span class="line"> </span><br><span class="line">--with-zlib-opt=  在编译时为zlib设置附加参数。</span><br><span class="line"> </span><br><span class="line">--with-zlib-asm=  为指定的CPU使用汇编源进行优化。</span><br><span class="line"> </span><br><span class="line">--with-libatomic  为原子内存的更新操作的实现提供一个架构。</span><br><span class="line"> </span><br><span class="line">--with-libatomic=  指向libatomic_ops的安装目录。</span><br><span class="line"> </span><br><span class="line">--with-openssl=  指向openssl安装目录。</span><br><span class="line"> </span><br><span class="line">--with-openssl-opt=  在编译时为openssl设置附加参数。</span><br><span class="line"> </span><br><span class="line">--with-debug  启用debug日志。</span><br></pre></td></tr></table></figure>



<h2 id="启动nginx"><a href="#启动nginx" class="headerlink" title="启动nginx"></a>启动nginx</h2><p>进入安装好的目录 &#x2F;usr&#x2F;apps&#x2F;local&#x2F;nginx&#x2F;sbin  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">./nginx 启动</span><br><span class="line">./nginx -s stop 快速停止</span><br><span class="line">./nginx -s quit 优雅关闭，在退出前完成已经接受的连接请求</span><br><span class="line">./nginx -s reload 重新加载配置</span><br></pre></td></tr></table></figure>

<ul>
<li>开放指定端口 80</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=80/tcp --permanent</span><br></pre></td></tr></table></figure>

<h2 id="注册service文件"><a href="#注册service文件" class="headerlink" title="注册service文件"></a>注册service文件</h2>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim  /usr/lib/systemd/system/nginx.service</span><br></pre></td></tr></table></figure>

<p> 内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=nginx - web server</span><br><span class="line">After=network.target remote-fs.target nss-lookup.target</span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">PIDFile=/apps/local/nginx/logs/nginx.pid</span><br><span class="line">ExecStartPre=/apps/local/nginx/sbin/nginx -t -c /apps/local/nginx/conf/nginx.conf</span><br><span class="line">ExecStart=/apps/local/nginx/sbin/nginx -c /apps/local/nginx/conf/nginx.conf</span><br><span class="line">ExecReload=/apps/local/nginx/sbin/nginx -s reload</span><br><span class="line">ExecStop=/apps/local/nginx/sbin/nginx -s stop</span><br><span class="line">ExecQuit=/apps/local/nginx/sbin/nginx -s quit</span><br><span class="line">PrivateTmp=true</span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>

<p><strong>重新加载系统服务：</strong> </p>
<p> systemctl daemon-reload</p>
<h3 id="启动并设置开机自启动"><a href="#启动并设置开机自启动" class="headerlink" title="启动并设置开机自启动"></a>启动并设置开机自启动</h3><ul>
<li>注意不要同时用两种方式开启进程</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start nginx.service  &amp;&amp; systemctl enable nginx.service</span><br></pre></td></tr></table></figure>

<h3 id="查看nginx进程"><a href="#查看nginx进程" class="headerlink" title="查看nginx进程"></a>查看nginx进程</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ps -ef | grep nginx</span><br></pre></td></tr></table></figure>

<h2 id="docker安装"><a href="#docker安装" class="headerlink" title="docker安装"></a>docker安装</h2><h2 id="配置文件与应用场景"><a href="#配置文件与应用场景" class="headerlink" title="配置文件与应用场景"></a>配置文件与应用场景</h2><p>**目录结构 ** </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">默认：client_body_temp conf fastcgi_temp html logs proxy_temp sbin scgi_temp uwsgi_temp</span><br><span class="line">临时文件：client_body_temp fastcgi_temp proxy_temp scgi_temp</span><br></pre></td></tr></table></figure>

<p>conf  用来存放配置文件相关  </p>
<p>html  用来存放静态文件的默认目录 html、css等  </p>
<p>sbin  nginx的主程序  </p>
<p>access.log：日志文件</p>
<p>nginx.pid：主进程ID号</p>
<h3 id="运行原理"><a href="#运行原理" class="headerlink" title="运行原理"></a>运行原理</h3><div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="p/yuanli.png" fancybox="true"/></div></div>

<h3 id="最小配置"><a href="#最小配置" class="headerlink" title="最小配置"></a>最小配置</h3><p><strong>worker_processes</strong><br>worker_processes 1; 默认为1，表示开启一个业务进程</p>
<p><strong>worker_connections</strong><br>worker_connections 1024; 单个业务进程可接受连接数</p>
<p><strong>include mime.types;</strong><br>include mime.types; 引入http mime类型。可以手动添加特定格式的问题。以什么方式展现在网页。</p>
<p><strong>default_type application&#x2F;octet-stream;</strong><br>default_type application&#x2F;octet-stream; 如果mime类型没匹配上，默认使用二进制流的方式传输。</p>
<p><strong>sendfile on;</strong><br>sendfile on; 使用linux的 sendfile(socket, file, len) 高效网络传输，也就是数据0拷贝。<br>未开启sendfile  </p>
<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="p/wei.png" fancybox="true"/></div></div>

<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="p/kai.png" fancybox="true"/></div></div>

<h3 id="虚拟主机配置"><a href="#虚拟主机配置" class="headerlink" title="虚拟主机配置"></a>虚拟主机配置</h3><blockquote>
<p><strong>server</strong>：可以开启多可nginx主机。以<strong>端口号</strong>区分</p>
<p><strong>location &#x2F;</strong> ：配平ura，域名之后。加域名称之为url</p>
<p><strong>root</strong>：html根目录</p>
</blockquote>
<blockquote>
<hr>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">默认配置：</span><br><span class="line">server &#123;</span><br><span class="line">         listen 80; 监听端口号</span><br><span class="line">         server_name localhost; 主机名或者域名</span><br><span class="line">          location / &#123; 匹配路径</span><br><span class="line">              root html; 文件根目录。此处的root表示根</span><br><span class="line">              index index.html index.htm; 默认页名称</span><br><span class="line">        &#125; e</span><br><span class="line">          rror_page 500 502 503 504 /50x.html; 报错编码对应页面   location 到 /50x.html</span><br><span class="line">         location = /50x.html &#123;</span><br><span class="line">          root html;</span><br><span class="line">         &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<div class="tag-plugin image"><div class="image-bg"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="p/server.png" fancybox="true"/></div></div>

<h2 id="虚拟主机"><a href="#虚拟主机" class="headerlink" title="虚拟主机"></a>虚拟主机</h2><h2 id="泛域名解析-com"><a href="#泛域名解析-com" class="headerlink" title="泛域名解析*.com"></a>泛域名解析*.com</h2><blockquote>
<p>*.com都解析到通一个ip地址</p>
</blockquote>
<p>​    <strong>当a.com域名过来则到&#x2F;apps&#x2F;local&#x2F;bolg下</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name  a.com;</span><br><span class="line">    location / &#123;</span><br><span class="line">        root   /apps/local/bolg;</span><br><span class="line">        index  index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">    error_page   500 502 503 504  /50x.html;</span><br><span class="line">    location = /50x.html &#123;</span><br><span class="line">        root   html;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="同时解析到统一个ip"><a href="#同时解析到统一个ip" class="headerlink" title="同时解析到统一个ip"></a>同时解析到统一个ip</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">#user  nobody;</span><br><span class="line">worker_processes  1;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    sendfile        on;</span><br><span class="line"></span><br><span class="line">#虚拟主机A</span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  a.com;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            root   /apps/local/bolg;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        error_page   500 502 503 504  /50x.html;</span><br><span class="line">        location = /50x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">#虚拟主机B</span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  b.com;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">            root   /apps/local/www;</span><br><span class="line">            index  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #error_page  404              /404.html;</span><br><span class="line"></span><br><span class="line">        # redirect server error pages to the static page /50x.html</span><br><span class="line">        #</span><br><span class="line">        error_page   500 502 503 504  /50x.html;</span><br><span class="line">        location = /50x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


  
  


  </article>
  


  




      
<footer class="page-footer reveal fs12"><hr><div class="sitemap"><div class="sitemap-group"><span class="fs14">博客</span><a href="/">近期</a><a href="/">分类</a><a href="/">标签</a><a href="/">归档</a></div><div class="sitemap-group"><span class="fs14">项目</span><a href="/">开源库</a></div><div class="sitemap-group"><span class="fs14">社交</span><a href="/">友链</a><a href="/">留言板</a></div><div class="sitemap-group"><span class="fs14">更多</span><a href="/">关于本站</a><a href="/">GitHub</a></div></div><div class="text"><center>
    <div style="margin:0.2rem;">
            <a href="https://travellings.link" target="_blank"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://img.shields.io/badge/Travellings-开往--友链接力-86CAF2" alt="Travellings" /></a>
          <a href="https://www.foreverblog.cn/go.html" target="_blank"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://img.shields.io/badge/Wormhole-十年之约-D09968" alt="穿梭虫洞--随机访问十年之约友链博客" /></a>
    </div>
    <br>
</br>
<script type="text/javascript">
  function show_runtime() {
      window.setTimeout("show_runtime()", 1000);
      X = new Date("9/15/2023 00:00:00");
      Y = new Date();
      T = (Y.getTime() - X.getTime());
      M = 24 * 60 * 60 * 1000;
      a = T / M;
      A = Math.floor(a);
      b = (a - A) * 24;
      B = Math.floor(b);
      c = (b - B) * 60;
      C = Math.floor((b - B) * 60);
      D = Math.floor((c - C) * 60);
      runtime_span.innerHTML = "⏱️本站已艰难运行 " + A + "天" + B + "小时" + C + "分" + D + "秒"
  }
  show_runtime();
</script>
<span id="runtime_span"></span>
</center>
 
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  const stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')){
        src = stellar.config.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.version = '1.19.0';
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.19.0';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
    root : '/',
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://gcore.jsdelivr.net/npm/jquery@3.6.2/dist/jquery.min.js'
  };

  if ('local_search') {
    stellar.search = {};
    stellar.search.service = 'local_search';
    if (stellar.search.service == 'local_search') {
      let service_obj = Object.assign({}, {"field":"all","path":"/search.json","content":true,"sort":"-date"});
      stellar.search[stellar.search.service] = service_obj;
    }
  }

  // stellar js
  stellar.plugins.stellar = Object.assign({"sites":"/js/plugins/sites.js","friends":"/js/plugins/friends.js","ghinfo":"/js/plugins/ghinfo.js","timeline":"/js/plugins/timeline.js","linkcard":"/js/plugins/linkcard.js","fcircle":"/js/plugins/fcircle.js","weibo":"/js/plugins/weibo.js"});

  stellar.plugins.marked = Object.assign("https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js");
  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.css","js":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.js"});
  }
  if ('' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":null,"js":"https://gcore.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://gcore.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://gcore.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti@0.9.2/umd/heti.min.css","js":"https://unpkg.com/heti@0.9.2/umd/heti-addon.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.copycode = Object.assign({"enable":true,"js":"/js/plugins/copycode.js","default_text":"Copy","success_text":"Copied"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->



<!-- inject -->


  </div>
</body>
</html>
